@page
@model EVS.Pages.WelcomeModel
@{
    ViewData["Title"] = "Welcome";
    Layout = "_Layout";
}

<style>
    /* Page-specific styles (kept here for quick iteration) */
    .welcome-topbar {
        background: rgba(255, 255, 255, 0.06);
        border-radius: 8px;
        padding: .5rem;
        display: flex;
        gap: .5rem;
        align-items: center;
        flex-wrap: wrap;
    }

    .welcome-topbar a {
        color: white;
        text-decoration: none;
        padding: .45rem .75rem;
        border-radius: 6px;
        font-weight: 600;
        background: transparent;
        transition: background .15s ease;
    }

    .welcome-topbar a:hover,
    .welcome-topbar a:focus {
        background: rgba(255,255,255,0.06);
        text-decoration: none;
    }

    .welcome-hero {
        background: linear-gradient(135deg, rgba(13,110,253,0.95), rgba(102,16,242,0.9));
        color: white;
        padding: 4rem 1rem;
        border-radius: 8px;
    }

    .welcome-hero .lead {
        color: rgba(255,255,255,0.95);
    }

    .feature-card .icon {
        font-size: 1.6rem;
        width: 48px;
        height: 48px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
        background: rgba(255,255,255,0.08);
        color: white;
        margin-right: .75rem;
    }

    .quick-links a {
        display: inline-flex;
        align-items: center;
        gap: .5rem;
    }

    @@media (max-width: 767.98px) {
        .welcome-hero { padding: 2.25rem .75rem; }
    }
</style>

<div class="container-fluid">
    <!-- Top link bar for visitors -->
    <div class="welcome-topbar mb-3 shadow-sm">
        <a href="/Account/Register" class="me-1" aria-label="Register">Register</a>
        <a href="/About" class="me-1" aria-label="Who are we">Who are we</a>
        <a href="/Contact" class="me-1" aria-label="Contact us">Contact us</a>
        <a href="/Admission/Online" class="me-auto" aria-label="Online admission">Online Admission</a>

        <!-- secondary quick actions -->
        <a href="/Account/Login" class="btn btn-sm btn-light text-primary" role="button" aria-label="Login">Login</a>
    </div>

    <!-- Hero -->
    <div class="welcome-hero mb-4 shadow-sm">
        <div class="row align-items-center">
            <div class="col-md-8">
                <h1 class="display-5 fw-bold mb-2">Welcome to EVS</h1>
                <p class="lead mb-3">We're glad you're here. Explore programs, connect with staff, and apply online — everything you need to join our community.</p>

                <div class="d-flex flex-wrap gap-2">
                    <a class="btn btn-light btn-lg text-primary" href="/Account/Login" role="button" aria-label="Login to EVS">
                        <i class="fa-solid fa-arrow-right-to-bracket me-2"></i> Login
                    </a>

                    <a class="btn btn-outline-light btn-lg" href="/Account/Register" role="button" aria-label="Register for EVS">
                        <i class="fa-solid fa-user-plus me-2"></i> Register
                    </a>

                    <div class="dropdown">
                        <button class="btn btn-outline-light btn-lg dropdown-toggle" type="button" id="roleMenu" data-bs-toggle="dropdown" aria-expanded="false">
                            Quick access
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="roleMenu">
                            <li><a class="dropdown-item" href="/Parent/Dashboard">Parent Dashboard</a></li>
                            <li><a class="dropdown-item" href="/Teacher/Dashboard">Teacher Dashboard</a></li>
                            <li><a class="dropdown-item" href="/Admin/Dashboard">Admin Dashboard</a></li>
                        </ul>
                    </div>
                </div>

                <div class="mt-3 text-white-50 small quick-links">
                    <span class="me-3"><i class="fa-solid fa-circle-info me-1"></i> Need help? <a href="/Support" class="text-white text-decoration-underline">Support</a></span>
                    <span><i class="fa-solid fa-file-lines me-1"></i> Read the <a href="https://learn.microsoft.com/aspnet/core" class="text-white text-decoration-underline">docs</a></span>
                </div>
            </div>

            <div class="col-md-4 text-center d-none d-md-block">
                <img src="/images/illustration-school.svg" alt="School illustration" style="max-width:220px;" />
            </div>
        </div>
    </div>

    <!-- Main content: features + announcements -->
    <div class="row g-4">
        <div class="col-lg-8">
            <!-- Features -->
            <div class="card shadow-sm mb-4">
                <div class="card-body">
                    <h5 class="card-title fw-bold">Core features</h5>
                    <p class="text-muted small">Fast links to the parts of EVS you use most.</p>

                    <div class="row gy-3">
                        <div class="col-md-6">
                            <div class="d-flex align-items-start feature-card">
                                <div class="icon"><i class="fa-solid fa-user-graduate"></i></div>
                                <div>
                                    <h6 class="mb-0">Student Management</h6>
                                    <p class="text-muted small mb-0">Profiles, attendance, transcripts.</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="d-flex align-items-start feature-card">
                                <div class="icon"><i class="fa-solid fa-chalkboard-user"></i></div>
                                <div>
                                    <h6 class="mb-0">Teacher Tools</h6>
                                    <p class="text-muted small mb-0">Assignments, grading, schedules.</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="d-flex align-items-start feature-card">
                                <div class="icon"><i class="fa-solid fa-calendar-days"></i></div>
                                <div>
                                    <h6 class="mb-0">Scheduling</h6>
                                    <p class="text-muted small mb-0">Timetables and exam planning.</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="d-flex align-items-start feature-card">
                                <div class="icon"><i class="fa-solid fa-file-circle-check"></i></div>
                                <div>
                                    <h6 class="mb-0">Assessments</h6>
                                    <p class="text-muted small mb-0">Create and grade exams &amp; assignments.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Announcements carousel -->
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-white fw-bold">Latest announcements</div>
                <div class="card-body">
                    <div id="welcomeCarousel" class="carousel slide" data-bs-ride="carousel" aria-label="Announcements carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <div class="p-3">
                                    <h6 class="mb-1">Holiday Notice</h6>
                                    <p class="mb-0 text-muted small">School will be closed on December 25 for the holidays.</p>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="p-3">
                                    <h6 class="mb-1">Exam Schedule Published</h6>
                                    <p class="mb-0 text-muted small">Midterm exam timetables are now available on the Exams page.</p>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="p-3">
                                    <h6 class="mb-1">Parent-Teacher Meeting</h6>
                                    <p class="mb-0 text-muted small">Meetings will be held next Friday; check your dashboard for slots.</p>
                                </div>
                            </div>
                        </div>

                        <button class="carousel-control-prev" type="button" data-bs-target="#welcomeCarousel" data-bs-slide="prev" aria-label="Previous announcement">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#welcomeCarousel" data-bs-slide="next" aria-label="Next announcement">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Quick search -->
            <div class="card shadow-sm">
                <div class="card-body">
                    <form method="get" action="/Search" role="search" aria-label="Quick search students, teachers, subjects">
                        <div class="row g-2 align-items-center">
                            <div class="col-sm-9">
                                <label for="q" class="visually-hidden">Search</label>
                                <input id="q" name="q" class="form-control" placeholder="Search students, teachers, subjects..." />
                            </div>
                            <div class="col-sm-3 d-grid">
                                <button type="submit" class="btn btn-primary">Search</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

        </div>

        <!-- Right column: quick links / stats -->
        <div class="col-lg-4">
            <div class="card shadow-sm mb-3">
                <div class="card-body text-center">
                    <h6 class="mb-2 fw-bold">Quick actions</h6>
                    <div class="d-flex flex-column gap-2">
                        <a href="/Admin/ManageStudents" class="btn btn-outline-secondary">Manage Students</a>
                        <a href="/Admin/ManageExams" class="btn btn-outline-secondary">Manage Exams</a>
                        <a href="/Teacher/Assignments" class="btn btn-outline-secondary">Create Assignment</a>
                    </div>
                </div>
            </div>

            <div class="card shadow-sm">
                <div class="card-body">
                    <h6 class="mb-2 fw-bold">At a glance</h6>
                    <ul class="list-unstyled small mb-0">
                        <li><strong>1,240</strong> students</li>
                        <li><strong>85</strong> teachers</li>
                        <li><strong>32</strong> subjects</li>
                    </ul>
                    <div class="mt-3 text-end">
                        <a href="/Admin/Dashboard" class="small">View full report</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="mt-4 text-muted small">
        <p class="mb-0">Note: UI placeholders — connect to real data services when ready.</p>
    </div>
</div>