@page
@model EVS.Pages.Parent.TranscriptModel
@{
    ViewData["Title"] = "Transcript";
    Layout = "_Layout";
}

@section Sidebar {
    @await Html.PartialAsync("_ParentSidebar")
}

<div class="container-fluid">
    <h2 class="mb-4">Student Transcript</h2>

    <div class="row mb-3">
        <div class="col-md-8">
            <div class="card shadow-sm">
                <div class="card-body d-flex align-items-center gap-3">
                    <label class="mb-0 fw-semibold">Select child:</label>

                    <!-- Static UI-only selector — replace with real binding later -->
                    <div class="btn-group" role="group" aria-label="Select child">
                        <button type="button" class="btn btn-outline-primary active">Emma Brown</button>
                        <button type="button" class="btn btn-outline-primary">Liam Brown</button>
                    </div>

                    <div class="ms-auto d-flex gap-2">
                        <a class="btn btn-outline-secondary btn-sm" href="#" role="button" aria-label="Download CSV">Download CSV</a>
                        <a class="btn btn-outline-secondary btn-sm" href="#" role="button" aria-label="Download PDF">Export PDF</a>
                        <button class="btn btn-primary btn-sm" onclick="window.print()" aria-label="Print transcript">Print</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-4 d-flex align-items-stretch">
            <div class="card shadow-sm w-100">
                <div class="card-header bg-white fw-bold">Summary</div>
                <div class="card-body">
                    <p class="mb-1"><strong>Student:</strong> Emma Brown</p>
                    <p class="mb-1"><strong>Grade:</strong> 7</p>
                    <p class="mb-1"><strong>Student ID:</strong> 2025-0078</p>
                    <hr />
                    <div class="d-flex justify-content-between">
                        <div>
                            <small class="text-muted">Cumulative GPA</small>
                            <div class="fw-bold">3.54</div>
                        </div>
                        <div>
                            <small class="text-muted">Credits Earned</small>
                            <div class="fw-bold">26.0</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Transcript details: grouped by school year / term -->
    <div class="card shadow-sm mb-4">
        <div class="card-header bg-white fw-bold">Academic Record</div>
        <div class="card-body">
            <!-- Year / Term header -->
            <div class="mb-3">
                <h6 class="mb-1">2024–2025 — 7th Grade • Term 2</h6>
                <p class="text-muted small mb-0">Reported: Jun 12, 2025</p>
            </div>

            <div class="table-responsive">
                <table class="table table-striped table-bordered align-middle">
                    <thead class="table-light">
                        <tr>
                            <th>Course</th>
                            <th>Teacher</th>
                            <th class="text-center">Credits</th>
                            <th class="text-center">Final Grade</th>
                            <th class="text-center">Term GPA</th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr>
                            <td>Mathematics — Pre‑Algebra</td>
                            <td>Mr. Dean</td>
                            <td class="text-center">1.0</td>
                            <td class="text-center">A</td>
                            <td class="text-center">4.0</td>
                        </tr>
                        <tr>
                            <td>English — Literature</td>
                            <td>Ms. Parker</td>
                            <td class="text-center">1.0</td>
                            <td class="text-center">A-</td>
                            <td class="text-center">3.7</td>
                        </tr>
                        <tr>
                            <td>Science — General Science</td>
                            <td>Mrs. Lewis</td>
                            <td class="text-center">1.0</td>
                            <td class="text-center">B+</td>
                            <td class="text-center">3.3</td>
                        </tr>
                        <tr>
                            <td>History — World Studies</td>
                            <td>Mr. O'Neil</td>
                            <td class="text-center">1.0</td>
                            <td class="text-center">A</td>
                            <td class="text-center">4.0</td>
                        </tr>
                        <tr>
                            <td>Physical Education</td>
                            <td>Coach Rivera</td>
                            <td class="text-center">0.5</td>
                            <td class="text-center">Pass</td>
                            <td class="text-center">—</td>
                        </tr>
                    </tbody>

                    <tfoot>
                        <tr class="table-active">
                            <td class="fw-semibold">Term Totals</td>
                            <td></td>
                            <td class="text-center fw-semibold">4.5</td>
                            <td class="text-center"></td>
                            <td class="text-center fw-semibold">3.75</td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>

    <!-- Older terms (static samples) -->
    <div class="row g-3">
        <div class="col-lg-6">
            <div class="card shadow-sm mb-3">
                <div class="card-header bg-white fw-bold">2023–2024 — 6th Grade</div>
                <div class="card-body">
                    <ul class="mb-0">
                        <li class="mb-2"><strong>Year GPA:</strong> 3.40 — <small class="text-muted">Credits: 9.0</small></li>
                        <li class="mb-2"><strong>Notable:</strong> Honor Roll — Spring Term</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="col-lg-6">
            <div class="card shadow-sm mb-3">
                <div class="card-header bg-white fw-bold">Notes & Legend</div>
                <div class="card-body small text-muted">
                    <p class="mb-1"><strong>Grade scale:</strong> A = Excellent, B = Good, C = Satisfactory.</p>
                    <p class="mb-0"><strong>Pass/Fail:</strong> Courses marked "Pass" do not affect GPA.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="text-end mt-2">
        <a class="btn btn-outline-primary btn-sm" href="/Parent/Reports">View related reports</a>
    </div>
</div>