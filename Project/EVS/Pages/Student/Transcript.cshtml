@page
@model EVS.Pages.Student.TranscriptModel
@{
    ViewData["Title"] = "Transcript";
}
@section Sidebar {
    @await Html.PartialAsync("_StudentSidebar")
}
<h2>Academic Transcript</h2>
<div style="margin-bottom:18px;">
    <a asp-page-handler="Csv" class="btn btn-outline-primary btn-sm">Export CSV</a>
    <a asp-page-handler="Pdf" class="btn btn-outline-secondary btn-sm">Export PDF</a>
</div>
@if (Model.Grades != null && Model.Grades.Count > 0)
{
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Term</th>
                <th>Course</th>
                <th>Grade</th>
                <th>Grade Point</th>
                <th>Credits</th>
            </tr>
        </thead>
        <tbody>
        @foreach (var g in Model.Grades)
        {
            <tr>
                <td>@g.Term</td>
                <td>@g.CourseName</td>
                <td>@g.Grade</td>
                <td>@g.GradePoint</td>
                <td>@g.Credits</td>
            </tr>
        }
        </tbody>
    </table>
    <div><strong>Cumulative GPA:</strong> @Model.CumulativeGPA.ToString("F2")</div>
}
else
{
    <div>No transcript data found.</div>
}