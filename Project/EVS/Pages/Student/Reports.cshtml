@page
@model EVS.Pages.Student.ReportsModel
@{
}
@section Sidebar {
    @await Html.PartialAsync("_StudentSidebar")
}
<!DOCTYPE html>
<html>
<head>
    <title>Student Report Card</title>

    <style>


        .card-box {
            width: 900px;
            margin: auto;
            background: white;
            padding: 25px;
            border: 1px solid #ccc;
        }

        .header-bar {
            background: #7b1f1f;
            color: white;
            padding: 12px;
            font-size: 22px;
            font-weight: bold;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th, td {
            border: 1px solid #999;
            padding: 8px;
            font-size: 14px;
        }

        th {
            background: #ececec;
        }

        .section-title {
            font-weight: bold;
            margin-top: 20px, 10px;
        }

        .small-text {
            font-size: 13px;
        }

        .comment-box {
            border: 1px solid #ccc;
            padding: 10px;
            margin-top: 15px;
            background: #fafafa;
        }

        .signature-area {
            text-align: center;
            margin-top: 40px;
        }

        .signature-block {
            display: inline-block;
            width: 30%;
            padding: 10px;
        }

        .footer {
            margin-top: 30px;
            font-size: 12px;
            text-align: center;
            color: #666;
        }
    </style>
</head>

<body>

    <div class="card-box">

        <!-- Header -->
        <div class="header-bar">High School Report Card</div>

        <!-- Action Buttons -->
        <div style="margin: 18px 0;">
            <a asp-page-handler="Csv" class="btn btn-outline-primary">Download as CSV</a>
            <a asp-page-handler="Pdf" class="btn btn-outline-secondary">Download as PDF</a>
            <a asp-page="/Student/Reports" class="btn btn-outline-success">View as HTML</a>
        </div>

        <!-- Reports List -->
        <div class="section-title">Reports:</div>
        <ul>
            @if (Model.Messages != null && Model.Messages.Count > 0)
            {
                foreach (var msg in Model.Messages.Take(5))
                {
                    <li>@msg.SentAt.ToShortDateString() - @msg.Content</li>
                }
            }
            else
            {
                <li>No reports available.</li>
            }
        </ul>

        <!-- Student Info -->
        <div class="section-title">Student Information:</div>

        <table>
            <tr>
                <th>Name</th>
                <td>Student Name</td>
                <th>Grade</th>
                <td>10th Grade</td>
                <th>School Year</th>
                <td>2024–2025</td>
            </tr>
        </table>

        <!-- Grades Table -->
        <div class="section-title">Academic Performance:</div>

        <table>
            <thead>
                <tr>
                    <th>Subject</th>
                    <th>1st Semester</th>
                    <th>2nd Semester</th>
                    <th>Final Grade</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>English</td><td>B</td><td>A</td><td>B+</td></tr>
                <tr><td>Mathematics</td><td>A-</td><td>B+</td><td>A-</td></tr>
                <tr><td>Science</td><td>B+</td><td>A-</td><td>A</td></tr>
                <tr><td>History</td><td>B</td><td>B+</td><td>B</td></tr>
                <tr><td>Physical Education</td><td>A-</td><td>A</td><td>A-</td></tr>
            </tbody>
        </table>

        <!-- Attendance -->
        <div style="display:flex; margin-top:20px;">
            <div style="width:50%;">
                <div class="section-title">Grading Scale:</div>
                <ul class="small-text">
                    <li>A: 90–100%</li>
                    <li>B: 80–89%</li>
                    <li>C: 70–79%</li>
                    <li>D: 60–69%</li>
                    <li>F: Below 60%</li>
                </ul>
            </div>

            <div style="width:50%;">
                <div class="section-title">Attendance:</div>
                <ul class="small-text">
                    <li>Days Present: 170</li>
                    <li>Days Absent: 10</li>
                    <li>Tardies: 3</li>
                </ul>
            </div>
        </div>

        <!-- Comments -->
        <div class="section-title">Comments:</div>
        <div class="comment-box">
            The student has shown consistent improvement throughout the year and participates actively in class discussions. Continued focus in core subjects is recommended.
        </div>

        <!-- Signatures -->
        <div class="signature-area">
            <div class="signature-block">
                ___________________<br>
                Parent / Guardian
            </div>
            <div class="signature-block">
                ___________________<br>
                Teacher
            </div>
            <div class="signature-block">
                ___________________<br>
                Principal
            </div>
        </div>

        <div class="footer">Generated by School System • This is an official student report</div>
    </div>

</body>
</html>